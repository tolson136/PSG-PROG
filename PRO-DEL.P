DEFINE SHARED VAR XCOM AS INTEGER FORMAT "ZZ".
DEFINE SHARED VAR XDIV AS INTEGER FORMAT "ZZ".
DEFINE VAR PRO-BEG AS DECIMAL FORMAT "ZZZZZZZZZZ".
DEFINE VAR PRO-END AS DECIMAL FORMAT "ZZZZZZZZZZ".
DEFINE VAR HOLD-PRO AS DECIMAL FORMAT "9999999999".
DEFINE VAR CNT AS INTEGER FORMAT "ZZZZZ"
    LABEL "NUMBER OF PROPOSALS DELETED ".
IF (USERID = "OPERATIONS") OR (USERID = "LANDMARK") OR (USERID = "GARCIA")
THEN DO:
    MESSAGE "YOU ARE NOT AUTHORIZED TO RUN THIS PROCEDURE".
    RETURN.
END.
DISPLAY SPACE(16)
"P R O P O S A L   D E L E T I O N   S C R E E N" SKIP(0)
    "COMPANY: " XCOM SPACE(29) "DIVISION: " XDIV SKIP(4)
    WITH NO-BOX NO-LABELS.
UPDATE SKIP(1) PRO-BEG LABEL "ENTER PROPOSAL # TO DELETE"
    WITH NO-BOX SIDE-LABELS.
/* UPDATE SKIP(1) PRO-END LABEL "ENTER LAST PROPOSAL # TO DELETE"
    WITH NO-BOX SIDE-LABELS. */
IF LASTKEY = KEYCODE("F4") OR LASTKEY = KEYCODE("ESC") THEN LEAVE.
/* CNT = 0. */
FOR EACH PROPSL WHERE PROPSL.COMP# = XCOM AND
                        PROPSL.DIV# = XDIV AND
                        PROPSL.PROPSL# = PRO-BEG:
/*                        PROPSL.PROPSL# <= PRO-END:
            HOLD-PRO = PROPSL.PROPSL#. */
            DELETE PROPSL.
FOR EACH PRO-DESP WHERE PRO-DESP.COMP# = XCOM AND
                        PRO-DESP.DIV# = XDIV AND
                        PRO-DESP.PROPSL# = PRO-BEG:
            DELETE PRO-DESP.
/*            CNT = CNT + 1. */
END.
END.
/*            CLEAR FRAME A NO-PAUSE.
            DISPLAY CNT WITH FRAME A NO-BOX SIDE-LABELS. */
