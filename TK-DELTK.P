DEFINE SHARED VAR XCOM AS INTEGER FORMAT "ZZ".
DEFINE SHARED VAR XDIV AS INTEGER FORMAT "ZZ".
DEFINE VAR BEG# AS DATE FORMAT "99/99/9999".
DEFINE VAR END# AS DATE FORMAT "99/99/9999".
DEFINE VAR CNT AS INTEGER FORMAT "ZZZZZ" LABEL "NUMBER OF TICKETS DELETED ".
IF (USERID = "OPERATIONS") OR (USERID = "LANDMARK") OR (USERID = "GARCIA")
THEN DO:
    MESSAGE "YOU ARE NOT AUTHORIZED TO RUN THIS PROCEDURE".
    RETURN.
END.
DISPLAY SPACE(18) "T I C K E T   D E L E T I O N   S C R E E N" SKIP(0)
    "COMPANY: " XCOM SPACE(29) "DIVISION: " XDIV SKIP(4)
    WITH NO-BOX NO-LABELS.
UPDATE SKIP(2) BEG# LABEL "ENTER BEGINNING DATE"
    WITH NO-BOX SIDE-LABELS.
IF LASTKEY = KEYCODE("F4") OR LASTKEY = KEYCODE("ESC") THEN LEAVE.
UPDATE SKIP(2) END# LABEL "ENTER ENDING DATE" SKIP(5)
    WITH NO-BOX SIDE-LABELS.
IF LASTKEY = KEYCODE("F4") OR LASTKEY = KEYCODE("ESC") THEN LEAVE.
CNT = 0.
FOR EACH TICKET WHERE TICKET.COMP# = XCOM AND
			TICKET.DIV# = XDIV AND
			((TICKET.DATE-PRT >= BEG# AND
			  TICKET.DATE-PRT <= END#) OR
			 (TICKET.DATE-RET >= BEG# AND
			  TICKET.DATE-RET <= END#)):
	    DELETE TICKET.
	    CNT = CNT + 1.
END.
	    CLEAR FRAME A NO-PAUSE.
	    DISPLAY CNT WITH FRAME A NO-BOX SIDE-LABELS.
