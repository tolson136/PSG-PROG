DEF VAR ASTER AS CHAR FORMAT "XX".
DEF VAR RN AS INTEGER FORMAT "ZZ" EXTENT 10.
DEFINE VARIABLE BS AS CHAR FORMAT "X".
DEFINE VARIABLE NOTHING AS CHAR FORMAT "X(80)".
DEFINE SHARED VARIABLE XOPR AS CHAR FORMAT "XXX".
DEFINE SHARED VARIABLE XCOM AS INTEGER FORMAT "ZZ".
DEFINE SHARED VARIABLE XDIV AS INTEGER FORMAT "ZZ".
DEFINE VARIABLE XCST AS DECIMAL FORMAT "ZZZZZZZZZZ".
DEFINE VARIABLE XCST-N AS CHAR FORMAT "X(25)".
DEFINE SHARED VARIABLE XCOM-N AS CHAR FORMAT "X(30)".
DEFINE SHARED VARIABLE XDIV-N AS CHAR FORMAT "X(30)".
DEFINE VARIABLE XCTR AS INTEGER FORMAT "99".
DEFINE VARIABLE XXX AS INTEGER FORMAT "99".
DEFINE VARIABLE YYY AS INTEGER FORMAT "9999".
DEF VAR XREC AS INTEGER FORMAT "ZZ"
    LABEL "ENTER RECORD NUMBERS YOU WISH TO MATCH OR 99 TO VIEW MORE".
DEFINE SHARED VARIABLE P-PERIOD AS CHAR FORMAT "XXXXXX"
    LABEL "POSTING PERIOD             ".
DEFINE SHARED VARIABLE P-DATE AS DATE FORMAT "99/99/9999"
    LABEL "POSTING DATE               ".
DEFINE SHARED VARIABLE T-DEBITS AS DECIMAL FORMAT "$->>>,>>>,>>>.99"
    LABEL "COMPARISON TOTAL - DEBITS  ".
DEFINE SHARED VARIABLE T-CREDITS AS DECIMAL FORMAT "$->>>,>>>,>>>.99"
    LABEL "COMPARISON TOTAL - CREDITS ".
DEFINE SHARED VARIABLE PC-RECPT AS LOGICAL
    LABEL "POST CASH RECEIPTS         ".
DEFINE VAR HW-AGE LIKE TRANFILE.AGE.
DEFINE VAR HW-CHECK# LIKE TRANFILE.CHECK#.
DEFINE VAR HW-COMP# LIKE TRANFILE.COMP#.
DEFINE VAR HW-CUST# LIKE TRANFILE.CUST#.
DEFINE VAR HW-DIV# LIKE TRANFILE.DIV#.
DEFINE VAR HW-INV-NO LIKE TRANFILE.INV-NO.
DEFINE VAR HW-PERIOD LIKE TRANFILE.PERIOD.
DEFINE VAR HW-REFER LIKE TRANFILE.REFER.
DEFINE VAR HW-SLS# LIKE TRANFILE.SLS#.
DEFINE VAR HW-T-AMT LIKE TRANFILE.T-AMT.
DEFINE VAR HW-T-DATE LIKE TRANFILE.T-DATE.
DEFINE VAR HW-T-OPR LIKE TRANFILE.T-OPR.
DEFINE VAR HW-T-TYPE LIKE TRANFILE.T-TYPE.
DEFINE VAR HW-TR-STAT LIKE TRANFILE.TR-STAT.
DEFINE VAR HW-REC# LIKE TRANFILE.REC#.
DEFINE VARIABLE PS-CUST AS CHAR FORMAT "XXXXXXXXXX".
DEFINE VARIABLE PS-AMT AS CHAR FORMAT "X(16)".
DEFINE VARIABLE PS-TYPE AS CHAR FORMAT "X(12)".
DEFINE VARIABLE PS-DBCR AS CHAR FORMAT "XXXXX".
DEFINE VARIABLE PS-SLS AS CHAR FORMAT "XXX".
DEFINE VARIABLE TOT-DB AS DECIMAL FORMAT "$->>>,>>>,>>>.99".
DEFINE VARIABLE TOT-CR AS DECIMAL FORMAT "$->>>,>>>,>>>.99".
DEFINE VARIABLE HOLD-DB AS DECIMAL FORMAT "$->>>,>>>,>>>.99".
DEFINE VARIABLE HOLD-CR AS DECIMAL FORMAT "$->>>,>>>,>>>.99".
DEFINE VARIABLE HOLD-TP AS CHAR FORMAT "X".
DEFINE VARIABLE HOLD-SLS AS INTEGER FORMAT "ZZZ".
DEFINE VARIABLE HOLD-TEST AS CHAR FORMAT "X".
DEFINE VARIABLE HOLD-CUST AS DECIMAL FORMAT "ZZZZZZZZZZ".
DEFINE VARIABLE HOLD-AMT AS DECIMAL FORMAT "$->>>,>>>,>>>.99".
DEFINE VARIABLE HOLD-INV AS DECIMAL FORMAT "ZZZZZZZZZZ".
DEFINE VARIABLE HOLD-PRF AS DECIMAL FORMAT "$->>>,>>>,>>>.99".
DEFINE VARIABLE HOLD-CHECK AS CHAR FORMAT "X(10)".
ASTER = "**".
YYY = 0.
UPDATE NOTHING =
"                                                                                ".
REPEAT:
DISPLAY
" A/R            C A S H   R E C E I P T S   S C R E E N        DATE:" TODAY
FORMAT "99/99/9999" SKIP(1)
	XCOM LABEL "COMPANY NUMBER" SPACE(18)
	XDIV LABEL "DIVISION NUMBER" SKIP(0)
	XCOM-N LABEL "CMP" SPACE(1)
	XDIV-N LABEL "DIV" SPACE(1)
	XOPR LABEL "OPR" SKIP(0)
"================================================================================"
SKIP(0) WITH FRAME POST-A SIDE-LABELS NO-BOX.
    PROMPT-FOR ACCT-RCV.CUST# LABEL "CUST #" WITH FRAME POST-A.
    XCST = INPUT ACCT-RCV.CUST#.
    FIND FIRST ACCT-RCV WHERE ACCT-RCV.CUST# = XCST AND
			ACCT-RCV.COMP# = XCOM AND
			ACCT-RCV.DIV# = XDIV.
    IF LASTKEY = KEYCODE("F4") OR LASTKEY = KEYCODE("ESC") THEN LEAVE.
    DISPLAY
	    ACCT-RCV.CUST# LABEL "CUST #" SPACE(2)
	    ACCT-RCV.C-NAME LABEL "CUST NAME" SPACE(2)
	    P-DATE LABEL "POST DATE" SKIP(0) WITH FRAME POST-A.
    UPDATE HOLD-AMT LABEL "AMT" SPACE(2)
	   HOLD-CHECK LABEL "CHECK #" SPACE(2) WITH FRAME POST-A.
    DISPLAY HOLD-PRF LABEL "PROOF" SKIP(0) WITH FRAME POST-A.
    DISPLAY
"================================================================================" SKIP(0) SPACE(2)
"ACTION     AMOUNT      INVOICE #       TYPE         DATE        REFERENCE"
SKIP(1) WITH FRAME POST-A NO-HIDE.
PAR1: REPEAT:
    IF LASTKEY = KEYCODE("F4") OR LASTKEY = KEYCODE("ESC") THEN LEAVE.
 FORM SPACE(2) TRANFILE.REC# SPACE(7) TRANFILE.T-AMT FORMAT "$-ZZZ,ZZZ.99"
      SPACE(3) TRANFILE.INV-NO SPACE(13) TRANFILE.T-TYPE SPACE(9)
      TRANFILE.T-DATE FORMAT "99/99/9999" SPACE(4) TRANFILE.REFER
      WITH FRAME POST-C 10 DOWN.
  PUT SCREEN ROW 10 COLUMN 1 NOTHING.
  PUT SCREEN ROW 11 COLUMN 1 NOTHING.
  PUT SCREEN ROW 12 COLUMN 1 NOTHING.
  PUT SCREEN ROW 13 COLUMN 1 NOTHING.
  PUT SCREEN ROW 14 COLUMN 1 NOTHING.
  PUT SCREEN ROW 15 COLUMN 1 NOTHING.
  PUT SCREEN ROW 16 COLUMN 1 NOTHING.
  PUT SCREEN ROW 17 COLUMN 1 NOTHING.
  PUT SCREEN ROW 18 COLUMN 1 NOTHING.
  PUT SCREEN ROW 19 COLUMN 1 NOTHING.
  PUT SCREEN ROW 20 COLUMN 1 NOTHING.
  PUT SCREEN ROW 21 COLUMN 1 NOTHING.
  FIND FIRST TRANFILE WHERE TRANFILE.COMP# = XCOM AND
			    TRANFILE.DIV# = XDIV AND
			    TRANFILE.CUST# = XCST AND
			    TRANFILE.TR-STAT = "A" NO-ERROR.
 PAR9: REPEAT:
 XXX = 0.
 REPEAT XCTR = 1 TO 10:
      DISPLAY TRANFILE.REC# TRANFILE.T-AMT TRANFILE.INV-NO TRANFILE.T-TYPE
	      TRANFILE.T-DATE TRANFILE.REFER WITH FRAME POST-C.
      XXX = XXX + 1.
      DOWN WITH FRAME POST-C.
      FIND NEXT TRANFILE WHERE TRANFILE.COMP# = XCOM AND
			       TRANFILE.DIV# = XDIV AND
			       TRANFILE.CUST# = XCST AND
			       TRANFILE.TR-STAT = "A" NO-ERROR.
      IF NOT AVAILABLE TRANFILE THEN LEAVE.
 END.
      PAUSE.
      IF XXX = 10 THEN NEXT PAR9.
 END.
 END.
 END.
